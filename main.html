<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>읽을 거리</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
    rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="./main.css"/>
    <style>
        #map-container {
            position: relative;
        }

        #map {
            height: 900px;
            width: 100%;
            transition: transform 0.5s;
            z-index: 1;
        }

        #info-list {
            background-color: lightgray;
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 150px; /* 초기 높이 */
            overflow: hidden;
            transition: height 0.5s, transform 0.5s;
            z-index: 2; /* 지도 위에 표시되도록 설정 */
        }

        #info-list.expanded {
            height: 900px; /* 확대된 높이 */
            transform: translateY(-000px); /* 위로 이동 */
        }

        #info-list ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        #info-list ul li {
            padding: 10px;
            background-color: white;
            border-bottom: 1px solid lightgray;
            cursor: pointer;
        }

        #info-list ul li:hover {
            background-color: lightgray;
        }
    </style>
</head>
<body>
    <!-- Header : 내비게이션 바 -->
    <div>
        <nav class="navbar navbar-dark bg-dark">
            <a class="navbar-brand" href="#" style="padding-left: 20px;">
                <img src="./logo.JPG" alt="" loading="lazy" width="30" height="30" id="bgimg" class="d-inline-block align-text-center">
                읽을 거리
            </a>
        </nav>
    </div>
    <div id="map-container">
        <div id="map"></div>
        <div id="info-list" onclick="expandList()"> <!-- 프레임 -->
            <!-- 여기에 정보 리스트를 넣으세요 -->
            <ul>
                <li>정보 1</li>
                <li>정보 2</li>
                <li>정보 3</li>
            </ul>
        </div>
    </div>
    <script>
        function initMap() {
            // HTML5 Geolocation을 사용하여 현재 위치를 가져옵니다.
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    var myLatLng = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };

                    // 현재 위치를 지도의 중심으로 설정합니다.
                    var map = new google.maps.Map(document.getElementById('map'), {
                        zoom: 16,
                        center: myLatLng
                    });

                    // 마커를 생성하고 지도에 추가합니다.
                    var marker = new google.maps.Marker({
                        position: myLatLng,
                        map: map,
                        title: '현재 위치'
                    });
                }, function() {
                    handleLocationError(true);
                });
            } else {
                // Browser doesn't support Geolocation
                handleLocationError(false);
            }

            // 위치 에러 처리 함수
            function handleLocationError(browserHasGeolocation) {
                var errorMsg = browserHasGeolocation ?
                    'Error: The Geolocation service failed.' :
                    'Error: Your browser doesn\'t support geolocation.';
                console.error(errorMsg);
                alert(errorMsg);
            }
        }

        // 정보 프레임 확대/축소 함수
        function expandList() {
            var infoList = document.getElementById("info-list");
            infoList.classList.toggle("expanded");
        }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBzpUyWhyXuMnYpGcwSPFC7AFA2hcrFOl4&callback=initMap" async defer></script>
</body>
</html>
